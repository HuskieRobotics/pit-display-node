"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const events_1 = require("events");
const nt_types_1 = require("./nt-types");
const log_util_1 = __importDefault(require("../utils/log-util"));
/**
 * Abstract class representing a Network Table Participant (NTParticipant)
 *
 * A NTParticipant could be either a server or a client, and represents a node in
 * the NetworkTables network.
 */
class NTParticipant extends events_1.EventEmitter {
    constructor(options = {}) {
        super();
        this._version = { major: -1, minor: -1 };
        this._identifier = "";
        this._currState = nt_types_1.NTConnectionState.NTCONN_NOT_CONNECTED;
        this._logger = log_util_1.default.getLogger("NTCORE");
        if (options.identifier) {
            this._identifier = options.identifier;
        }
        else {
            this._identifier = `NTParticipant-${Date.now()}`;
        }
    }
    get version() {
        return Object.assign({}, this._version);
    }
    get identifier() {
        return this._identifier;
    }
    set identifier(val) {
        this._identifier = val;
    }
    // TODO RPC
    _setConnectionState(state) {
        if (this._currState !== state) {
            this.emit("connectionStateChanged", this._currState, state);
            this._currState = state;
        }
    }
}
exports.default = NTParticipant;
//# sourceMappingURL=nt-participant.js.map